<?xml version="1.0"?>
<launch>

  <!--  -->
  <!-- These are values that can be passed via command line to this launch file -->
  <!--  rvizconfig  : rviz config file (generated by manually saving an rviz setup) -->
  <!--  gui         : use a gui for the joint_state_publisher -->
  <!--  model       : xacro file for adabot (passed to the model launch file) -->
  <!--  -->
  <arg name="rvizconfig" default="$(find adabot_description)/rviz/adabot.rviz" />
  <arg name="gui" default="true" />

  <!--  -->
  <!-- Launch the robot_description node -->
  <!--  -->
  <include file="$(find adabot_description)/launch/adabot.model.launch" ns="/" pass_all_args="true" />

  <!--  -->
  <!-- Parameters for the parameter server -->
  <!--  use_gui           : tell joint_state_publisher to show a gui -->
  <!--  -->
  <param name="use_gui" value="$(arg gui)" />

  <!--  -->
  <!-- Start the following ROS nodes -->
  <!--  joint_state_publisher : read the robot_description parameter and display joints -->
  <!--  robot_state_publisher : tell tf about the changes to the robots joints -->
  <!--  rviz                  : start rviz with the given config file -->
  <!--  -->
  <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" />
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(arg rvizconfig)" required="true" />

</launch>

